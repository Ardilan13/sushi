$("#btn_login").on("click",(function(e){e.preventDefault(),$.ajax({url:"ajax/login.php",data:$("#ingreso").serialize(),type:"POST",dataType:"text",success:function(e){1==e?$(location).prop("href","productos.php"):(alert("ContraseÃ±a incorrecta."),$("#clave").val(""))},error:function(e,a,t){alert("Error")}})})),$("#new_pro").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_producto.php")})),$("#add_producto").on("click",(function(e){e.preventDefault(),$("#nombre").val().length>0&&$("#proveedor").val().length>0&&$("#tipo").val().length>0&&$("#merma").val().length>0&&$("#cantidad").val().length>0&&$("#precio").val().length>0&&$("#unidad").val().length>0?$.ajax({url:"ajax/add_producto.php",data:$("#new_producto").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Producto Creado!"),$(location).prop("href","productos.php")):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$(".edit_tipo").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_tipo.php?id="+$(this).attr("id"))})),$("#new_tipo").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_tipo.php")})),$("#add_tipo").on("click",(function(e){e.preventDefault(),$("#nombre").val().length>0?$.ajax({url:"ajax/add_tipo.php",data:$("#new_tipos").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Tipo Creado!"),$(location).prop("href","tipos.php")):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#btn_update_tipo").on("click",(function(e){e.preventDefault(),$("#nombre").val().length>0?$.ajax({url:"ajax/add_tipo.php",data:$("#new_tipos").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Tipo Actualizado!"),$(location).prop("href","tipos.php")):(alert("Error, intente nuevamente."),console(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$(".edit_pro").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_producto.php?id="+$(this).attr("id"))})),$(".edit_ventas").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_venta.php?id="+$(this).attr("id"))})),$(".new_ven").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_venta.php")})),$("#agg_producto1").on("click",(function(e){e.preventDefault(),$(location).prop("href","create_producto.php?id="+$(this).val())})),$("#agg_producto").on("click",(function(e){e.preventDefault(),$("#fecha").val().length>0?$.ajax({url:"ajax/create_venta.php",data:{fecha:$("#fecha").val()},type:"POST",dataType:"text",success:function(e){0!=e?$(location).prop("href","create_producto.php?id="+e):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#agg_receta1").on("click",(function(e){e.preventDefault(),$(location).prop("href","create_receta.php?id="+$(this).val())})),$("#agg_receta").on("click",(function(e){e.preventDefault(),$("#fecha").val().length>0?$.ajax({url:"ajax/create_venta.php",data:{fecha:$("#fecha").val()},type:"POST",dataType:"text",success:function(e){0!=e?$(location).prop("href","create_receta.php?id="+e):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#agg_producto_venta").on("click",(function(e){e.preventDefault(),$("#producto").val().length>0&&$("#cantidad").val().length>0&&$("#valor").val().length>0?$.ajax({url:"ajax/verificar_cantidad.php",data:$("#new_producto_venta").serialize(),type:"POST",dataType:"text",success:function(e){1==e?$.ajax({url:"ajax/create_venta.php",data:$("#new_producto_venta").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Producto Agregado a venta!"),$(location).prop("href","ventas.php")):0==e?(alert("Error, intente nuevamente."),console.log(e)):alert(e)},error:function(e,a,t){alert("Error")}}):alert("La cantidad de la salida "+$("#cantidad").val()+" no puede ser mayor a "+e)},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#agg_venta").on("click",(function(e){e.preventDefault(),$.ajax({url:"ajax/guardar_venta.php",data:$("#new_venta").serialize(),type:"POST",dataType:"text",success:function(e){e>0?(alert("Venta guardada!"),window.history.go(-1)):(alert(e),console.log(e))},error:function(e,a,t){alert("Error")}})})),$("#agg_receta_venta").on("click",(function(e){e.preventDefault(),$("#receta").val().length>0&&$("#cantidad").val().length>0&&$("#valor_receta").val().length>0?$.ajax({url:"ajax/create_venta.php",data:$("#new_producto_venta").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Receta Agregado a venta!"),$(location).prop("href","ventas.php")):0==e?(alert("Error, intente nuevamente."),console(e)):alert(e)},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#btn_update_pro").on("click",(function(e){e.preventDefault(),$("#nombre").val().length>0&&$("#proveedor").val().length>0&&$("#tipo").val().length>0&&$("#merma").val().length>0&&$("#unidad").val().length>0?$.ajax({url:"ajax/update_producto.php",data:$("#new_producto").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Producto Actualizado!"),$(location).prop("href","productos.php")):(alert("Error, intente nuevamente."),console(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#btn_historial").on("click",(function(e){e.preventDefault(),$(location).prop("href","historial.php?id="+$("#id").val())})),$("#btn_producir").on("click",(function(e){e.preventDefault(),$(location).prop("href","produccion.php?id="+$("#id").val())})),$("input:radio[name=producido]").on("click",(function(e){"nuevo"==$("input:radio[name=producido]:checked").val()?($(".nuevo").show(),$(".existente").css("display","none")):($(".existente").show(),$(".nuevo").css("display","none"))})),$("#add_producto_pro").on("click",(function(e){e.preventDefault(),$("#nombre").val().length>0&&$("#tipo").val().length>0&&$("#unidad").val().length>0&&$("#valor_new").val().length>0&&$("#cantidad_new").val().length>0?(producto=parseFloat($("#cantidad_pro_1").val()),cantidad=parseFloat($("#test").val()),producto<=cantidad?$.ajax({url:"ajax/add_produccion.php",data:$("#new_producto_pro").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Producto Creado y Cantidad Restada!"),$(location).prop("href","productos.php")):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("La cantidad a usar no puede ser mayor a la cantidad existente.")):alert("Llena todos los campos.")})),$("#update_produccion").on("click",(function(e){e.preventDefault(),$("#producto").val().length>0&&$("#cantidad_pro_2").val().length>0&&$("#valor_old").val().length>0?(producto=parseFloat($("#cantidad_pro_2").val()),cantidad=parseFloat($("#test1").val()),producto<=cantidad?$.ajax({url:"ajax/update_produccion.php",data:$("#update_producto_pro").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Producto Actualizado y Cantidad Restada!"),$(location).prop("href","productos.php")):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("La cantidad a usar no puede ser mayor a la cantidad existente.")):alert("Llena todos los campos.")})),$(".new_pre").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_preparacion.php")})),$(".new_rec").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_preparacion.php?receta=1")})),$(".des_exc").on("click",(function(e){e.preventDefault(),$(location).prop("href","ajax/descargar_excel.php")})),$(".edit_pre").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_preparacion.php?id="+$(this).attr("id"))})),$("#add_preparacion").on("click",(function(e){e.preventDefault(),$("#nombre").val().length>0&&$("#tipo").val().length>0?$.ajax({url:"ajax/add_preparacion.php",data:$("#new_preparacion").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Creado correctamente!"),window.history.go(-1)):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#btn_update_pre").on("click",(function(e){e.preventDefault(),$("#nombre").val().length>0&&$("#proveedor").val().length>0&&$("#tipo").val().length>0&&$("#merma").val().length>0&&$("#unidad").val().length>0?$.ajax({url:"ajax/update_producto.php",data:$("#new_producto").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Producto Actualizado!"),$(location).prop("href","productos.php")):(alert("Error, intente nuevamente."),console(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#new_ing").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_ingrediente.php?id="+$("#id").val())})),$("#historial_rec").on("click",(function(e){e.preventDefault(),$(location).prop("href","historial_recetas.php?id="+$("#id").val())})),$("#save_pre").on("click",(function(e){e.preventDefault(),$("#unidad").val().length>0&&$("#nombre").val().length>0?$.ajax({url:"ajax/update_preparacion.php",data:$("#new_preparacion").serialize(),type:"POST",dataType:"text",success:function(e){e>0?(alert("Actualizado Correctamente!"),window.history.go(-1),console.log(e)):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#add_ing").on("click",(function(e){e.preventDefault(),$("#producto").val().length>0&&$("#cantidad").val().length>0&&$("#valor").val().length>0?$.ajax({url:"ajax/add_ingrediente.php",data:$("#new_ingrediente").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Ingrediente agregado y valor actualizado!"),$(location).prop("href","new_preparacion.php?id="+$("#id_preparacion").val())):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$(".edit_pre_pro").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_ingrediente.php?ingrediente="+$(this).attr("id"))})),$(".add_pre_rec").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_receta_pre.php?id="+$(this).attr("id"))})),$("#add_pre").on("click",(function(e){e.preventDefault(),$("#cantidad_pre").val().length>0&&$("#valor_pre").val().length>0&&$("#preparacion").val().length>0?$.ajax({url:"ajax/add_ingrediente.php",data:$("#new_preparacion_receta").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Preparacion agregada!"),$(location).prop("href","new_preparacion.php?id="+$("#id_receta").val())):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#update_ing").on("click",(function(e){e.preventDefault(),$("#cantidad").val().length>0&&$("#valor").val().length>0?$.ajax({url:"ajax/update_ingrediente.php",data:$("#new_ingrediente").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Ingrediente y valor actualizados!"),window.history.go(-1)):(alert("Error, intente nuevamente."),alert(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$("#new_com").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_compra.php")})),$("#add_compra").on("click",(function(e){e.preventDefault(),$("#producto").val().length>0&&$("#fecha").val().length>0&&$("#cantidad").val().length>0&&$("#valor").val().length>0?$.ajax({url:"ajax/add_compra.php",data:$("#new_compra").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Compra generada y producto actualizado!"),$(location).prop("href","compras.php")):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$(".edit_com").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_compra.php?id="+$(this).attr("id"))})),$("#btn_update_com").on("click",(function(e){e.preventDefault(),$("#id").val().length>0&&$("#cantidad").val().length>0&&$("#precio").val().length>0?$.ajax({url:"ajax/update_compra.php",data:$("#new_compra").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Compra Actualizada!"),$(location).prop("href","compras.php")):(alert("Error, intente nuevamente."),console(e))},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$(".delete_com").on("click",(function(e){e.preventDefault(),id=$(this).attr("id"),confirm("Desea borrar la compra con id:"+id+"?")&&$.ajax({url:"ajax/delete_compra.php",data:"id="+id,type:"POST",dataType:"text",success:function(e){1==e?(alert("Compra eliminada y cantidad modificada!"),$(location).prop("href","compras.php")):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}})})),$(".delete_pro").on("click",(function(e){e.preventDefault(),id=$(this).attr("id"),nombre=$(this).attr("name"),confirm("Desea borrar el producto "+nombre+"?")&&$.ajax({url:"ajax/delete_producto.php",data:"id="+id,type:"POST",dataType:"text",success:function(e){1==e?(alert("Producto eliminado!"),$(location).prop("href","productos.php")):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}})})),$(".delete_ingrediente").on("click",(function(e){e.preventDefault(),id=$(this).attr("id"),nombre=$(this).attr("name"),cantidad=$(this).attr("cantidad"),precio=$(this).attr("precio"),preparacion=$("#nombre").val(),valor=precio*cantidad,confirm("Desea borrar el ingrediente "+nombre+"?")&&$.ajax({url:"ajax/delete_ingrediente.php",data:{id:id,valor:valor,preparacion:preparacion},type:"POST",dataType:"text",success:function(e){1==e?(alert("Ingrediente eliminado!"),$(location).prop("href","preparaciones.php")):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}})})),$(".delete_pre").on("click",(function(e){e.preventDefault(),id=$(this).attr("id"),nombre=$(this).attr("name"),confirm("Desea borrar la preparacion "+nombre+"?")&&$.ajax({url:"ajax/delete_preparacion.php",data:"id="+id,type:"POST",dataType:"text",success:function(e){1==e?(alert("Preparacion eliminada!"),window.history.go(-1)):(alert("Error, intente nuevamente."),console.log(e))},error:function(e,a,t){alert("Error")}})})),$("#receta").change((function(){var e=$("#receta option:selected").attr("valor");$("#valor_receta").attr("placeholder",e)})),$("#producto").change((function(){switch($("#producto option:selected").attr("unidad")){case"1":resultado=" en Kgs:";break;case"2":resultado=" en Lts:";break;case"3":resultado=" en Und:";break;default:resultado=":"}$("#unidad_producto").html("Cantidad"+resultado);var e=$("#producto option:selected").val();$.ajax({url:"ajax/get_data_producto.php",data:"id="+e,type:"GET",dataType:"text",success:function(e){if(0!=e){var a=$.parseJSON(e);$("#precio").attr("placeholder",a.precio),$("#valor").attr("placeholder",a.real),$("#cantidad").attr("placeholder",a.cantidad),$("#cantidad").attr("precio",a.valor),$("#cantidad").val(""),$("#valor").val("")}}})})),$("#preparacion").change((function(){switch($("#preparacion option:selected").attr("unidad")){case"1":resultado=" en Kgs:";break;case"2":resultado=" en Lts:";break;case"3":resultado=" en Und:";break;default:resultado=":"}$("#unidad_producto").html("Cantidad"+resultado);var e=$("#preparacion option:selected").val();$.ajax({url:"ajax/get_data_preparacion.php",data:"id="+e,type:"GET",dataType:"text",success:function(e){if(0!=e){var a=$.parseJSON(e);$("#valor_pre").attr("placeholder",a.valor),$("#cantidad_pre").attr("placeholder",a.cantidad),$("#cantidad_pre").val(""),$("#valor_pre").val("")}else console.log(e)}})})),$(".new_mov").on("click",(function(e){e.preventDefault(),$(location).prop("href","new_movimiento.php")})),$("#add_movimiento").on("click",(function(e){e.preventDefault(),$("#producto").val().length>0&&$("#fecha").val().length>0&&$("#cantidad").val().length>0&&$("#tipo").val().length>0&&$("#motivo").val().length>0?$.ajax({url:"ajax/verificar_cantidad.php",data:$("#new_movimiento").serialize(),type:"POST",dataType:"text",success:function(e){1==e?$.ajax({url:"ajax/add_movimiento.php",data:$("#new_movimiento").serialize(),type:"POST",dataType:"text",success:function(e){1==e?(alert("Movimiento generado y producto actualizado!"),$(location).prop("href","movimientos.php")):(alert("Error, intente nuevamente."),console(e))},error:function(e,a,t){alert("Error")}}):alert("La cantidad de la salida "+$("#cantidad").val()+" no puede ser mayor a "+e)},error:function(e,a,t){alert("Error")}}):alert("Llena todos los campos.")})),$(document).ready((function(){let e=$("#clonar").clone();$("#clonar").click((function(){$("#clonar").after(e)}));var a=$("#tabla").DataTable({orderCellsTop:!0,fixedHeader:!0});$("#tabla thead tr").clone(!0).appendTo("#tabla thead"),$("#tabla thead tr:eq(1) th").each((function(e){$(this).html('<input type="text" style="width:80%; padding: 5px;border-radius: 5px;border:.5px solid grey;" placeholder="Buscar..."/>'),$("input",this).on("keyup change",(function(){a.column(e).search()!==this.value&&a.column(e).search(this.value).draw()}))})),$.ajax({url:"ajax/list_productos.php",data:null,type:"POST",dataType:"text",success:function(e){$("#producto").html(e)}}),total=0,$(".historial tbody tr").each((function(e){cantidad=parseFloat($(this).find(".cantidad").html()),total+=cantidad})),$("#inventario").val(total)})),$(".historial").click((function(e){e.preventDefault(),total=0,$(".historial tbody tr").each((function(e){cantidad=parseFloat($(this).find(".cantidad").html()),total+=cantidad})),$("#inventario").val(total)})),$(".refresh").click((function(e){e.preventDefault(),total=0,$(".historial tbody tr").each((function(e){cantidad=parseFloat($(this).find(".cantidad").html()),total+=cantidad})),$("#inventario").val(total)}));
//# sourceMappingURL=bundle.js.map
