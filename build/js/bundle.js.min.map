{"version":3,"sources":["app.js"],"names":["$","on","e","preventDefault","ajax","url","data","serialize","type","dataType","success","text","location","prop","alert","val","error","xhr","status","errorThrown","terminal","this","attr","change","resultado","html","document","ready","temp","clone","click","after","table","DataTable","orderCellsTop","fixedHeader","appendTo","each","i","column","search","value","draw"],"mappings":"AACAA,EAAA,cAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAI,KAAA,CACAC,IAAA,iBACAC,KAAAN,EAAA,YAAAO,YACAC,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,EACAX,EAAAY,UAAAC,KAAA,OAAA,kBAEAC,MAAA,0BACAd,EAAA,UAAAe,IAAA,MAGAC,MAAA,SAAAC,EAAAC,EAAAC,GACAL,MAAA,eAMAd,EAAA,YAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAY,UAAAC,KAAA,OAAA,wBAIAb,EAAA,iBAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAI,KAAA,CACAC,IAAA,wBACAC,KAAAN,EAAA,iBAAAO,YACAC,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,GACAG,MAAA,oBACAd,EAAAY,UAAAC,KAAA,OAAA,mBAEAC,MAAA,8BACAM,SAAAT,KAGAK,MAAA,SAAAC,EAAAC,EAAAC,GACAL,MAAA,eAMAd,EAAA,aAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBACAH,EAAAY,UAAAC,KAAA,OAAA,uBAAAb,EAAAqB,MAAAC,KAAA,UAIAtB,EAAA,mBAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAI,KAAA,CACAC,IAAA,2BACAC,KAAAN,EAAA,iBAAAO,YACAC,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,GACAG,MAAA,yBACAd,EAAAY,UAAAC,KAAA,OAAA,mBAEAC,MAAA,8BACAM,SAAAT,KAGAK,MAAA,SAAAC,EAAAC,EAAAC,GACAL,MAAA,eAMAd,EAAA,YAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAY,UAAAC,KAAA,OAAA,sBAIAb,EAAA,eAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAI,KAAA,CACAC,IAAA,sBACAC,KAAAN,EAAA,eAAAO,YACAC,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,GACAG,MAAA,2CACAd,EAAAY,UAAAC,KAAA,OAAA,iBAEAC,MAAA,8BACAM,SAAAT,KAGAK,MAAA,SAAAC,EAAAC,EAAAC,GACAL,MAAA,eAMAd,EAAA,aAAAuB,QAAA,WAEA,OADAvB,EAAA,6BAAAsB,KAAA,WAEA,IAAA,IACAE,UAAA,WACA,MACA,IAAA,IACAA,UAAA,WACA,MACA,IAAA,IACAA,UAAA,WACA,MACA,QACAA,UAAA,IAEAxB,EAAA,oBAAAyB,KAAA,WAAAD,cAIAxB,EAAA0B,UAAAC,OAAA,WACA,IAAAC,EAAA5B,EAAA,WAAA6B,QACA7B,EAAA,WAAA8B,OAAA,WACA9B,EAAA,WAAA+B,MAAAH,MAGA,IAAAI,EAAAhC,EAAA,UAAAiC,UAAA,CACAC,eAAA,EACAC,aAAA,IAIAnC,EAAA,mBAAA6B,OAAA,GAAAO,SAAA,gBAEApC,EAAA,4BAAAqC,MAAA,SAAAC,GACAtC,EAAAqB,MAAAI,KACA,2HAGAzB,EAAA,QAAAqB,MAAApB,GAAA,gBAAA,WACA+B,EAAAO,OAAAD,GAAAE,WAAAnB,KAAAoB,OACAT,EAAAO,OAAAD,GAAAE,OAAAnB,KAAAoB,OAAAC,aAKA1C,EAAAI,KAAA,CACAC,IAAA,0BACAC,KAAA,KACAE,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACAX,EAAA,aAAAyB,KAAAd","file":"bundle.js","sourcesContent":["//Ajax revisa el login y genera credenciales\r\n$(\"#btn_login\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $.ajax({\r\n    url: \"ajax/login.php\",\r\n    data: $(\"#ingreso\").serialize(),\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      if (text == 1) {\r\n        $(location).prop(\"href\", \"productos.php\");\r\n      } else {\r\n        alert(\"Contrase√±a incorrecta.\");\r\n        $(\"#clave\").val(\"\");\r\n      }\r\n    },\r\n    error: function (xhr, status, errorThrown) {\r\n      alert(\"Error\");\r\n    },\r\n  });\r\n});\r\n\r\n//boton acceder al modulo de crear nuevo producto\r\n$(\"#new_pro\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $(location).prop(\"href\", \"new_producto.php?\");\r\n});\r\n\r\n//Ajax crea un nuevo producto\r\n$(\"#add_producto\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $.ajax({\r\n    url: \"ajax/add_producto.php\",\r\n    data: $(\"#new_producto\").serialize(),\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      if (text == 1) {\r\n        alert(\"Producto Creado!\");\r\n        $(location).prop(\"href\", \"productos.php\");\r\n      } else {\r\n        alert(\"Error, intente nuevamente.\");\r\n        terminal(text);\r\n      }\r\n    },\r\n    error: function (xhr, status, errorThrown) {\r\n      alert(\"Error\");\r\n    },\r\n  });\r\n});\r\n\r\n//accede al menu actualizar producto y le pasa el id por metodo GET\r\n$(\".edit_pro\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n  $(location).prop(\"href\", \"new_producto.php?id=\" + $(this).attr(\"id\"));\r\n});\r\n\r\n//Ajax actualiza el producto seleccionado\r\n$(\"#btn_update_pro\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $.ajax({\r\n    url: \"ajax/update_producto.php\",\r\n    data: $(\"#new_producto\").serialize(),\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      if (text == 1) {\r\n        alert(\"Producto Actualizado!\");\r\n        $(location).prop(\"href\", \"productos.php\");\r\n      } else {\r\n        alert(\"Error, intente nuevamente.\");\r\n        terminal(text);\r\n      }\r\n    },\r\n    error: function (xhr, status, errorThrown) {\r\n      alert(\"Error\");\r\n    },\r\n  });\r\n});\r\n\r\n//boton acceder al modulo de generar una compra\r\n$(\"#new_com\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $(location).prop(\"href\", \"new_compra.php?\");\r\n});\r\n\r\n//Ajax que genera una nueva compra\r\n$(\"#add_compra\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $.ajax({\r\n    url: \"ajax/add_compra.php\",\r\n    data: $(\"#new_compra\").serialize(),\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      if (text == 1) {\r\n        alert(\"Compra generada y producto actualizado!\");\r\n        $(location).prop(\"href\", \"compras.php\");\r\n      } else {\r\n        alert(\"Error, intente nuevamente.\");\r\n        terminal(text);\r\n      }\r\n    },\r\n    error: function (xhr, status, errorThrown) {\r\n      alert(\"Error\");\r\n    },\r\n  });\r\n});\r\n\r\n//Actualizar la cantidad para tener en cuenta las unidades, modulo agreagr compras\r\n$(\"#producto\").change(function () {\r\n  var unidad = $(\"#producto option:selected\").attr(\"unidad\");\r\n  switch (unidad) {\r\n    case \"1\":\r\n      resultado = \" en Kgs:\";\r\n      break;\r\n    case \"2\":\r\n      resultado = \" en Lts:\";\r\n      break;\r\n    case \"3\":\r\n      resultado = \" en Und:\";\r\n      break;\r\n    default:\r\n      resultado = \":\";\r\n  }\r\n  $(\"#unidad_producto\").html(\"Cantidad\" + resultado);\r\n});\r\n\r\n// Filtro y busqueda tablas\r\n$(document).ready(function () {\r\n  let temp = $(\"#clonar\").clone();\r\n  $(\"#clonar\").click(function () {\r\n    $(\"#clonar\").after(temp);\r\n  });\r\n\r\n  var table = $(\"#tabla\").DataTable({\r\n    orderCellsTop: true,\r\n    fixedHeader: true,\r\n  });\r\n\r\n  //Crea el buscador de cada atributo\r\n  $(\"#tabla thead tr\").clone(true).appendTo(\"#tabla thead\");\r\n\r\n  $(\"#tabla thead tr:eq(1) th\").each(function (i) {\r\n    $(this).html(\r\n      '<input type=\"text\" style=\"width:80%; padding: 5px;border-radius: 5px;border:.5px solid grey;\" placeholder=\"Buscar...\"/>'\r\n    );\r\n\r\n    $(\"input\", this).on(\"keyup change\", function () {\r\n      if (table.column(i).search() !== this.value) {\r\n        table.column(i).search(this.value).draw();\r\n      }\r\n    });\r\n  });\r\n\r\n  $.ajax({\r\n    url: \"ajax/list_productos.php\",\r\n    data: null,\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      $(\"#producto\").html(text);\r\n    },\r\n  });\r\n});\r\n"]}