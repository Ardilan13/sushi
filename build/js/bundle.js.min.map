{"version":3,"sources":["app.js"],"names":["$","on","e","preventDefault","ajax","url","data","serialize","type","dataType","success","text","location","prop","alert","val","error","xhr","status","errorThrown","terminal","this","attr","temp","clone","click","after","document","ready","table","DataTable","orderCellsTop","fixedHeader","each","i","title","html","column","search","value","draw"],"mappings":"AACAA,EAAA,cAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAI,KAAA,CACAC,IAAA,iBACAC,KAAAN,EAAA,YAAAO,YACAC,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,EACAX,EAAAY,UAAAC,KAAA,OAAA,kBAEAC,MAAA,0BACAd,EAAA,UAAAe,IAAA,MAGAC,MAAA,SAAAC,EAAAC,EAAAC,GACAL,MAAA,eAMAd,EAAA,YAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAY,UAAAC,KAAA,OAAA,wBAIAb,EAAA,gBAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAI,KAAA,CACAC,IAAA,wBACAC,KAAAN,EAAA,iBAAAO,YACAC,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,GACAG,MAAA,oBACAd,EAAAY,UAAAC,KAAA,OAAA,mBAEAC,MAAA,8BACAM,SAAAT,KAGAK,MAAA,SAAAC,EAAAC,EAAAC,GACAL,MAAA,eAMAd,EAAA,SAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBACAH,EAAAY,UAAAC,KAAA,OAAA,uBAAAb,EAAAqB,MAAAC,KAAA,UAIAtB,EAAA,eAAAC,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAH,EAAAI,KAAA,CACAC,IAAA,2BACAC,KAAAN,EAAA,iBAAAO,YACAC,KAAA,OACAC,SAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,GACAG,MAAA,yBACAd,EAAAY,UAAAC,KAAA,OAAA,mBAEAC,MAAA,8BACAM,SAAAT,KAGAK,MAAA,SAAAC,EAAAC,EAAAC,GACAL,MAAA,eAOA,IAAAS,KAAAvB,EAAA,WAAAwB,QACAxB,EAAA,WAAAyB,OAAA,WACAzB,EAAA,WAAA0B,MAAAH,SAGAvB,EAAA2B,UAAAC,OAAA,WACA,IAAAC,EAAA7B,EAAA,cAAA8B,UAAA,CACAC,eAAA,EACAC,aAAA,IAMAhC,EAAA,gCAAAiC,MAAA,SAAAC,GACA,IAAAC,EAAAnC,EAAAqB,MAAAV,OACAX,EAAAqB,MAAAe,KAAA,0CAAAD,EAAA,QAEAnC,EAAA,QAAAqB,MAAApB,GAAA,gBAAA,WACA4B,EAAAQ,OAAAH,GAAAI,WAAAjB,KAAAkB,OACAV,EAAAQ,OAAAH,GAAAI,OAAAjB,KAAAkB,OAAAC","file":"bundle.js","sourcesContent":["//Ajax revisa el login y genera credenciales\r\n$(\"#btn_login\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $.ajax({\r\n    url: \"ajax/login.php\",\r\n    data: $(\"#ingreso\").serialize(),\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      if (text == 1) {\r\n        $(location).prop(\"href\", \"productos.php\");\r\n      } else {\r\n        alert(\"Contrase√±a incorrecta.\");\r\n        $(\"#clave\").val(\"\");\r\n      }\r\n    },\r\n    error: function (xhr, status, errorThrown) {\r\n      alert(\"Error\");\r\n    },\r\n  });\r\n});\r\n\r\n//boton acceder al modulo de crear nuevo producto\r\n$(\"#new_pro\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $(location).prop(\"href\", \"new_producto.php?\");\r\n});\r\n\r\n//Ajax crea un nuevo producto\r\n$(\"#btn_agregar\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $.ajax({\r\n    url: \"ajax/add_producto.php\",\r\n    data: $(\"#new_producto\").serialize(),\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      if (text == 1) {\r\n        alert(\"Producto Creado!\");\r\n        $(location).prop(\"href\", \"productos.php\");\r\n      } else {\r\n        alert(\"Error, intente nuevamente.\");\r\n        terminal(text);\r\n      }\r\n    },\r\n    error: function (xhr, status, errorThrown) {\r\n      alert(\"Error\");\r\n    },\r\n  });\r\n});\r\n\r\n//accede al menu actualizar producto y le pasa el id por metodo GET\r\n$(\".edit\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n  $(location).prop(\"href\", \"new_producto.php?id=\" + $(this).attr(\"id\"));\r\n});\r\n\r\n//Ajax actualiza el producto seleccionado\r\n$(\"#btn_update\").on(\"click\", function (e) {\r\n  e.preventDefault();\r\n\r\n  $.ajax({\r\n    url: \"ajax/update_producto.php\",\r\n    data: $(\"#new_producto\").serialize(),\r\n    type: \"POST\",\r\n    dataType: \"text\",\r\n    success: function (text) {\r\n      if (text == 1) {\r\n        alert(\"Producto Actualizado!\");\r\n        $(location).prop(\"href\", \"productos.php\");\r\n      } else {\r\n        alert(\"Error, intente nuevamente.\");\r\n        terminal(text);\r\n      }\r\n    },\r\n    error: function (xhr, status, errorThrown) {\r\n      alert(\"Error\");\r\n    },\r\n  });\r\n});\r\n\r\n// Filtro y busqueda tablas\r\n\r\nlet temp = $(\"#clonar\").clone();\r\n$(\"#clonar\").click(function () {\r\n  $(\"#clonar\").after(temp);\r\n});\r\n\r\n$(document).ready(function () {\r\n  var table = $(\"#productos\").DataTable({\r\n    orderCellsTop: true,\r\n    fixedHeader: true,\r\n  });\r\n\r\n  //Crea el buscador de cada atributo\r\n  /*   $(\"#productos thead tr\").clone(true).appendTo(\"#productos thead\");\r\n   */\r\n  $(\"#productos thead tr:eq(1) th\").each(function (i) {\r\n    var title = $(this).text(); //es el nombre de la columna\r\n    $(this).html('<input type=\"text\" placeholder=\"Buscar ' + title + '\" />');\r\n\r\n    $(\"input\", this).on(\"keyup change\", function () {\r\n      if (table.column(i).search() !== this.value) {\r\n        table.column(i).search(this.value).draw();\r\n      }\r\n    });\r\n  });\r\n});\r\n"]}